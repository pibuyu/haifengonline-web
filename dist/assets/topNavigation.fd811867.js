import{d as q,r as y,a as f,c as b,b as t,w as n,G as $,S as ne,H as le,I as ie,J as X,C as O,D as K,g as e,l as P,K as Z,L as ce,k as ee,M as Y,o as te,N as j,O as fe,F as re,e as de,t as A,u as l,P as Be,B as M,Q as G,R as me,i as T,T as Fe,U as oe,V as $e,x as ve,W as Se,X as Le,Y as Ae,Z as Ie,$ as he,a0 as pe,a1 as ge,a2 as ye,a3 as Te,a4 as Me,a5 as Ve,p as ze,f as Q,v as N,_ as De,E as Ne,a6 as Re,A as Ue,a7 as He,a8 as qe,n as z,a9 as Oe,aa as Ke,ab as Pe,ac as xe,ad as Ce,ae as We,af as je,ag as Je,q as Ge,ah as Ye,ai as Qe}from"./index.0228ac47.js";/* empty css               *//* empty css                 *//* empty css                *//* empty css                     *//* empty css                  *//* empty css               *//* empty css                   *//* empty css                                                                      *//* empty css                  */import{h as we}from"./index.f22c08f3.js";/* empty css                   *//* empty css                  */import{g as Xe}from"./live.facdac17.js";/* empty css                 */import{g as Ze,a as et,d as tt,b as ot}from"./personal.ec4b42a6.js";import{y as ue}from"./vue-ellipsis-3.es.74e51318.js";import{v as st}from"./focus.de63bc5a.js";import"./el-infinite-scroll.3c533531.js";/* empty css                        */import{l as at}from"./stringConversion.18593f52.js";import{u as nt}from"./index.24bc3126.js";const ns=s=>we.post("/home/getHomeInfo",s),lt=s=>we.post("/home/submitBug",s),ut=s=>(O("data-v-7bfa867b"),s=s(),K(),s),it={class:"bug-box"},ct=ut(()=>e("p",{class:"title"},"bug\u53CD\u9988",-1)),rt=q({__name:"BugList",setup(s){const u=y(""),r=y(""),p=async()=>{u.value||ne.fire({title:"\u8BF7\u8F93\u5165bug\u53CD\u9988\u5185\u5BB9\uFF01",heightAuto:!1,confirmButtonColor:le.colorButtonTheme,icon:"error"});const _={content:u.value,phone:r.value||void 0};await lt(_),u.value="",r.value="",ne.fire({title:"\u53CD\u9988\u6210\u529F",heightAuto:!1,confirmButtonColor:le.colorButtonTheme,icon:"success"})};return(_,c)=>{const k=ie,D=X;return f(),b("div",it,[ct,t(k,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=m=>u.value=m),autosize:{minRows:3,maxRows:5},placeholder:"\u63CF\u8FF0\u60A8\u9047\u5230\u7684\u95EE\u9898",type:"textarea",maxlength:"200","show-word-limit":"",class:"bug-content"},null,8,["modelValue"]),t(k,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=m=>r.value=m),placeholder:"\u7559\u4E0B\u60A8\u7684\u8054\u7CFB\u65B9\u5F0F",maxlength:"20",class:"phone"},null,8,["modelValue"]),t(D,{round:"",type:"primary",class:"submitButton",onClick:p},{default:n(()=>[$("\u63D0\u4EA4")]),_:1})])}}}),dt=P(rt,[["__scopeId","data-v-7bfa867b"]]),pt=async()=>{const s=Z();try{let u=await Ze();if(!u.data)return!1;const r=u.data.filter(p=>(p.message_list=p.message_list.reverse(),p));s.chatListData=r}catch(u){console.error(u)}},_t=s=>(O("data-v-8b85c5f3"),s=s(),K(),s),mt={class:"chat-list"},vt={class:"msg-list"},ft={key:0,class:"msg-time"},ht={key:1,class:"msg-left"},gt={class:"msg-text"},yt={class:"msg-span"},Dt={key:2,class:"msg-right"},xt={class:"msg-text"},Ct={class:"msg-span"},wt=_t(()=>e("div",null,null,-1)),bt={class:"chat-input"},kt=q({__name:"chatBox",props:{tid:{type:Number,required:!0},msgList:{type:Array,required:!0}},setup(s){const u=s;var r;const p=y(""),_=ce(),c=Z(),k=ee(),D=y(0),m=y(),h=()=>{let a;const o=()=>{console.log("\u7528\u6237\u804A\u5929websocket\u8FDE\u63A5\u6210\u529F ")},i=C=>{console.error("\u7528\u6237\u804A\u5929\u804A\u5929websocket\u8FDE\u63A5\u5931\u8D25\uFF0C\u9519\u8BEF\u4FE1\u606F\uFF1A",C)},g=async C=>{let d=JSON.parse(C.data);switch(d.type){case"error":console.error("\u7528\u6237\u804A\u5929\u804A\u5929socket\u8FD4\u56DE\u9519\u8BEF"),$e({message:d.message,type:"error",appendTo:document.getElementById("chat-box")});break;case"chatSendTextMsg":S(d.data);break}};if(typeof WebSocket>"u"){ne.fire({title:"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301socket",heightAuto:!1,confirmButtonColor:le.colorButtonTheme,icon:"error"}),k.back();return}else a=new WebSocket("ws://www.haifengonline.top:8081/ws/chatUserSocket?token="+_.userInfoData.token+"&tid="+D.value),a.onopen=o,a.onerror=i,a.onmessage=g;return a},v=(a,o)=>{let i=JSON.stringify({type:a,data:o});r==null||r.send(i)},B=a=>{if(a.trim()=="")return!1;p.value="",v("sendChatMsgText",a),p.value="",c.addMessage(D.value,{uid:_.userInfoData.id,username:_.userInfoData.username,photo:_.userInfoData.photo,tid:D.value,message:a,type:"text",created_at:Date().toString()}),j(()=>{E()})},S=a=>{c.addMessage(a.uid,a),j(()=>{E()})},E=()=>{u.msgList&&j(()=>{var a,o;(a=m==null?void 0:m.value)!=null&&a.scrollHeight&&(m.value.scrollTop=(o=m==null?void 0:m.value)==null?void 0:o.scrollHeight)})},F=async()=>{if(console.log("\u89E6\u78B0\u9876\u90E8"),m.value.scrollTop==0){const a=m.value.scrollHeight;try{let o=new Date().getTime();c.chatListData.filter(C=>{C.to_id==c.tid&&C.message_list.filter(d=>{console.log(new Date(d.created_at).getTime()-new Date(o).getTime()),new Date(d.created_at).getTime()-new Date(o).getTime()<0&&(o=d.created_at)})}),console.log("\u6700\u5C0F\u503C",o);const i=await et({tid:u.tid,last_time:o});if(!i.data)return!1;const g=i.data.reverse();c.chatListData=c.chatListData.filter(C=>(C.to_id==c.tid&&(C.message_list=[...g,...C.message_list]),C)),j(()=>{m.value.scrollTop=m.value.scrollHeight-a}),console.log(i)}catch(o){console.log(o)}}},V=Y(()=>c.tid,(a,o)=>{r==null||r.close(),a!=o&&(D.value=a,c.clearUnread(D.value),r=h(),E())},{immediate:!0}),L=y([]),x=a=>a.map((o,i)=>{if(i===0){return{...o,showTime:!0};//!!!!这里就是在原本的msg item末尾添加上showTime字段作为新的item返回
}else{const g=a[i-1],C=new Date(o.created_at).getTime(),d=new Date(g.created_at).getTime(),U=C-d>3e5;return{...o,showTime:U}}});return Y(()=>u.msgList,a=>{L.value=x(a)},{immediate:!0}),te(async()=>{await j()}),fe(()=>{V(),r==null||r.close()}),(a,o)=>{const i=oe,g=ie,C=X;return f(),b("div",{id:"chat-box",class:"chat-box",ref_key:"boxRef",ref:m,onScroll:F},[e("div",mt,[e("div",vt,[(f(!0),b(re,null,de(L.value,d=>(f(),b("div",{key:d.id},[d.showTime?(f(),b("div",ft,A(l(Be)(d.created_at)),1)):M("",!0),l(_).userInfoData.id!=d.uid?(f(),b("div",ht,[t(i,{shape:"circle",size:32,src:d.photo},null,8,["src"]),e("div",gt,[e("span",yt,A(d.message),1)])])):M("",!0),l(_).userInfoData.id==d.uid?(f(),b("div",Dt,[e("div",xt,[e("span",Ct,A(d.message),1)]),t(i,{shape:"circle",size:32,src:l(_).userInfoData.photo},null,8,["src"])])):M("",!0),wt]))),128))])]),e("div",bt,[t(g,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=d=>p.value=d),resize:"none","input-style":{width:"400px"},autosize:"",type:"textarea",placeholder:"\u804A\u70B9\u5565\u5462~",onKeydown:[o[1]||(o[1]=G(d=>B(p.value),["enter"])),o[2]||(o[2]=G(me(d=>B(p.value),["prevent"]),["enter"])),o[3]||(o[3]=G(me(()=>{},["prevent"]),["space"]))]},null,8,["modelValue"]),T(t(C,{onClick:o[4]||(o[4]=d=>B(p.value)),class:"send",type:p.value?"primary":"info",icon:l(Fe),circle:""},null,8,["type","icon"]),[[l(st)]])])],544)}}}),Et=P(kt,[["__scopeId","data-v-8b85c5f3"]]),Bt="/dist/assets/unselectedMsg.0cceed90.png",Ft=s=>(O("data-v-fd70f72f"),s=s(),K(),s),$t={class:"message-box"},St={class:"box-left"},Lt=Ft(()=>e("div",{class:"title"}," \u79C1\u4FE1\u5217\u8868 ",-1)),At={class:"message-list"},It=["onClick"],Tt={class:"item-left"},Mt={class:"avatar"},Vt={class:"item-right"},zt={class:"on"},Nt={class:"name"},Rt={class:"time"},Ut={class:"info"},Ht={key:0,class:"box-right"},qt={class:"title"},Ot={class:"title-left"},Kt={class:"title-right"},Pt={key:1,class:"empty"},Wt=q({__name:"messageList",setup(s){const u=Z(),r=(h,v)=>{},p=ve(()=>{var h,v;if(u.tid!=0){let B=u.chatListData.filter(S=>S.to_id==u.tid);return B[0]?(u.tUsername=(h=B[0])==null?void 0:h.username,(v=B[0])==null?void 0:v.message_list):[]}}),_=ve(()=>u.chatListData.sort(function(h,v){return new Date(v.last_at).getTime()-new Date(h.last_at).getTime()})),c=async()=>{pt()},k=()=>{u.isShow=!1},D=async()=>{try{await tt({id:u.tid}),u.deleteItemByid(u.tid),u.tid=0}catch(h){console.log(h)}},m=h=>{u.tid=h};return te(()=>{c()}),(h,v)=>{const B=oe,S=he,E=X,F=pe,V=ge,L=ye;return T((f(),b("div",$t,[e("div",St,[Lt,e("div",At,[(f(!0),b(re,null,de(l(_),x=>(f(),b("div",{class:"message-item",key:x.to_id,onClick:a=>m(x.to_id)},[e("div",Tt,[t(S,{"is-dot":"",hidden:x.unread==0,class:"item"},{default:n(()=>[e("div",Mt,[t(B,{size:38,src:x.photo},null,8,["src"])])]),_:2},1032,["hidden"])]),e("div",Vt,[e("div",zt,[e("div",Nt,A(x.username),1),e("div",Rt,A(l(Le)(x.last_at).format("HH:mm")),1)]),e("div",Ut,[t(l(ue),{class:"text",visibleLine:2,text:x.last_message},null,8,["text"])])])],8,It))),128))])]),l(u).tid?(f(),b("div",Ht,[e("div",qt,[e("div",Ot,A(l(u).tUsername),1),e("div",Kt,[t(E,{class:"exit",type:"primary",size:"small",round:"",onClick:v[0]||(v[0]=x=>l(u).tid=0)},{default:n(()=>[$("\u5173\u95ED\u4F1A\u8BDD ")]),_:1}),t(V,{width:100,teleported:!1,"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px; padding: 8px;"},{reference:n(()=>[t(F,{size:18,class:"icon"},{default:n(()=>[t(l(Ae))]),_:1})]),default:n(()=>[e("div",{class:"more-box"},[e("div",{class:"more-item",onClick:D},"\u5220\u9664\u804A\u5929")])]),_:1}),t(F,{size:18,class:"icon",onClick:v[1]||(v[1]=x=>l(u).isShow=!1)},{default:n(()=>[t(l(Ie))]),_:1})])]),t(Et,{tid:l(u).tid,"msg-list":l(p),onClick:v[2]||(v[2]=x=>r(l(u).tid,l(p)))},null,8,["tid","msg-list"])])):M("",!0),l(u).tid?M("",!0):(f(),b("div",Pt,[t(L,{image:l(Bt),description:"\u5FEB\u9009\u62E9\u4E00\u4F4D\u597D\u53CB\u804A\u5929\u53ED~"},null,8,["image"])]))])),[[l(Se),k]])}}}),jt=P(Wt,[["__scopeId","data-v-fd70f72f"]]),Jt=s=>(O("data-v-5bd4b781"),s=s(),K(),s),Gt={class:"notice-box"},Yt={class:"title"},Qt=Jt(()=>e("div",{class:"text"},"\u6D88\u606F\u901A\u77E5",-1)),Xt={class:"select"},Zt={class:"ropdown-link",style:{cursor:"pointer"}},eo=["infinite-scroll-disabled"],to=["onClick"],oo={class:"item-left"},so={class:"avatar"},ao={class:"content"},no={class:"time"},lo={key:0},uo={class:"item-right"},io={class:"content-info"},co={class:"title"},ro={class:"load-more"},po={class:"record-empty"},_o=q({__name:"noticeList",setup(s,{expose:u}){const r=ce(),p=ee(),_=y(""),c=y("\u5168\u90E8\u6D88\u606F"),k=y([]),D=y({page:1,size:9}),m=y(!0),h=y(!1),v=y(!1),B=a=>{a!=0&&p.push({name:"SpaceIndividual",params:{id:a}})},S=async()=>{v.value||h.value||(h.value=!0,await E(),m.value=!1,h.value=!1)},E=async()=>{try{const a=await ot({type:_.value,page_info:D.value});if(console.log("\u901A\u77E5\u5217\u8868\u7684\u8FD4\u56DE\u7ED3\u679C\u4E3A",a),!a.data)return!1;a.data.length==0&&(v.value=!0),a.data=a.data.filter(o=>{switch(o.username==""&&(o.username="SYSTEM"),o.photo==""&&(o.photo="https://easy-video-net-hangzhou.oss-cn-hangzhou.aliyuncs.com/system_photo.jpg"),o.type){case"videoComment":o.type_rompt="\u8BC4\u8BBA\u4E86\u4F60\u7684\u89C6\u9891";break;case"videoLike":o.type_rompt="";break;case"articleComment":o.type_rompt="\u8BC4\u8BBA\u4E86\u4F60\u7684\u4E13\u680F";break;case"articleLike":o.type_rompt="";break;case"userLogin":o.type_rompt=""}return o}),k.value=[...k.value,...a.data],D.value.page++,r.setUnreadNotice(0)}catch(a){console.log(a)}},F=a=>{a=="comment"?c.value="\u8BC4\u8BBA\u6D88\u606F":a=="like"?c.value="\u70B9\u8D5E\u6D88\u606F":a=="all"?c.value="\u5168\u90E8\u6D88\u606F":a=="system"&&(c.value="\u7CFB\u7EDF\u901A\u77E5"),_.value=a,x(),L()},V=(a,o)=>{switch(a){case"videoComment":p.push({name:"VideoShow",params:{id:o}});break;case"videoLike":p.push({name:"VideoShow",params:{id:o}});break;case"articleComment":p.push({name:"ArticleShow",params:{id:o}});break;case"articleLike":p.push({name:"ArticleShow",params:{id:o}});break}},L=async()=>{await S()},x=()=>{v.value=!1,m.value=!0,D.value.page=1,k.value=[]};return u({init:L,end:x}),(a,o)=>{const i=De,g=Te,C=Me,d=Ve,R=oe,U=Ne,ae=ye,H=Re,W=Ue;return f(),b("div",Gt,[e("div",Yt,[Qt,e("div",Xt,[t(d,{"hide-on-click":!1,teleported:!1},{dropdown:n(()=>[t(C,null,{default:n(()=>[t(g,{onClick:o[0]||(o[0]=w=>F("all")),style:{cursor:"pointer"}},{default:n(()=>[$("\u5168\u90E8\u6D88\u606F")]),_:1}),t(g,{onClick:o[1]||(o[1]=w=>F("comment")),style:{cursor:"pointer"}},{default:n(()=>[$("\u8BC4\u8BBA\u6D88\u606F")]),_:1}),t(g,{onClick:o[2]||(o[2]=w=>F("like")),style:{cursor:"pointer"}},{default:n(()=>[$("\u70B9\u8D5E\u6D88\u606F")]),_:1}),t(g,{onClick:o[3]||(o[3]=w=>F("system")),style:{cursor:"pointer"}},{default:n(()=>[$("\u7CFB\u7EDF\u901A\u77E5")]),_:1})]),_:1})]),default:n(()=>[e("span",Zt,[$(A(c.value)+" ",1),t(i,{name:"rightArrow",class:"icon",color:"#61666D"})])]),_:1})])]),T((f(),b("div",{class:"message-list","infinite-scroll-delay":1e3,"infinite-scroll-distance":40,"infinite-scroll-disabled":v.value,"infinite-scroll-immediate":!1},[(f(!0),b(re,null,de(k.value,w=>(f(),b("div",{class:"message-item",key:w.id,onClick:J=>V(w.type,w.to_id),style:{cursor:"pointer"}},[e("div",oo,[e("div",so,[t(R,{size:38,src:w.photo,onClick:J=>B(w.cid)},null,8,["src","onClick"])]),e("div",ao,[e("div",null,A(w.username),1),e("div",null,[t(l(ue),{visibleLine:2,text:w.comment},null,8,["text"])]),e("div",no,[w.type_rompt?(f(),b("span",lo,A(w.type_rompt),1)):M("",!0),e("span",null,A(l(ze)(w.created_at)),1)])])]),e("div",uo,[e("div",io,[w.cover!=""?(f(),Q(U,{key:0,class:"item-img",src:w.cover,fit:"cover"},null,8,["src"])):M("",!0),e("div",co,[t(l(ue),{visibleLine:1,text:w.title},null,8,["text"])])])])],8,to))),128)),T(e("div",ro,null,512),[[N,k.value.length>0&&h.value],[H,!0]]),T(e("div",po,[t(ae,{description:"\u8FD8\u6CA1\u6709\u901A\u77E5~"})],512),[[N,k.value.length==0&&m.value==!1]])],8,eo)),[[H,m.value],[W,S]])])}}}),mo=P(_o,[["__scopeId","data-v-5bd4b781"]]),se=s=>(O("data-v-9bd97ee2"),s=s(),K(),s),vo={class:"info"},fo={class:"avatar-box"},ho={class:"user-selection"},go=se(()=>e("span",null,"\u767B\u5165",-1)),yo=[go],Do={class:"icon-list"},xo={class:"icon-item"},Co=se(()=>e("div",{class:"red-num-message"},"1",-1)),wo={class:"icon-item",style:{cursor:"pointer"}},bo={class:"icon-item"},ko={class:"steps-left"},Eo=se(()=>e("h4",null,'\u5728"OBS Studio->\u8BBE\u7F6E->\u76F4\u64AD"\u4E2D\uFF0C\u8FDB\u884C\u4EE5\u4E0B\u8BBE\u7F6E',-1)),Bo=se(()=>e("h4",null,"\u670D \u52A1 : \u81EA\u5B9A\u4E49...",-1)),Fo={class:"steps-right"},$o=q({__name:"rightSide",props:{iconColor:{type:String,default:"#18191C"}},setup(s){const u=Z(),r=ce(),p=ee(),_=y(!1);let c=y(1);const k=()=>{c.value>=3?(_.value=!_.value,setTimeout(()=>{c.value=1},1e3)):c.value=c.value+1},D=o=>{p.push({name:o})},m=async()=>{var o,i;if(r.userInfoData.token)try{const g=await Xe();r.userInfoData.liveData.address=((o=g.data)==null?void 0:o.address)||"",r.userInfoData.liveData.key=((i=g.data)==null?void 0:i.key)||""}catch(g){console.log(g)}},{toClipboard:h}=nt(),v=()=>{r.userInfoData.token?(_.value=!_.value,m()):p.push({name:"Login"})},B=()=>{p.push({name:"Login"})},S=async o=>{try{await h(o),Ke({title:"Success",message:"\u590D\u5236\u6210\u529F",type:"success"})}catch(i){console.error("\u590D\u5236\u63A8\u6D41\u7801\u51FA\u9519\uFF1A",i)}},E=y(),F=()=>{u.isShow=!1,E.value.init()},V=()=>{E.value.end()},L=y(0),x=Y(()=>u.chatListData,(o,i)=>{L.value=0,o.filter(g=>{L.value+=g.unread})},{immediate:!0,deep:!0}),a=()=>{r.loginOut(),p.push({name:"Login"})};return te(()=>{u.isShow=!1}),fe(()=>{x()}),(o,i)=>{const g=oe,C=Pe("router-link"),d=De,R=ge,U=he,ae=dt,H=X,W=He,w=qe,J=xe,be=pe,ke=Ce,Ee=We;return f(),b("div",vo,[t(R,{teleported:!1,width:120,trigger:"hover",onShow:i[1]||(i[1]=I=>l(u).isShow=!1),"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px;"},{reference:n(()=>[e("div",fo,[l(r).userInfoData.token?(f(),Q(C,{key:0,to:"/personal",class:"avatar"},{default:n(()=>[t(g,{size:36,src:l(r).userInfoData.photo},null,8,["src"])]),_:1})):M("",!0)])]),default:n(()=>[e("div",ho,[e("div",{class:"selection-item",onClick:i[0]||(i[0]=I=>D("Personal")),style:{cursor:"pointer"}},[t(d,{name:"user",class:"icon",color:"#000"}),$("\u7528\u6237\u4E2D\u5FC3 ")]),e("div",{class:"selection-item mt",onClick:a,style:{cursor:"pointer"}},[t(d,{name:"exit",class:"icon",color:"#000"}),$("\u9000\u51FA\u767B\u5165 ")])])]),_:1}),l(r).userInfoData.token?M("",!0):(f(),b("div",{key:0,onClick:i[2]||(i[2]=I=>B()),class:"login"},yo)),e("div",Do,[t(R,{ref:"popover",teleported:!1,width:400,trigger:"hover",onHide:i[3]||(i[3]=I=>V()),onShow:i[4]||(i[4]=I=>F()),"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px;padding: 14px 0px 14px 14px;"},{reference:n(()=>[t(U,{value:l(r).userInfoData.unreadNotice,max:99,hidden:l(r).userInfoData.unreadNotice==0},{default:n(()=>[e("div",xo,[t(d,{name:"notice",class:"icon",color:s.iconColor},{default:n(()=>[Co]),_:1},8,["color"]),e("p",{class:"item-text",style:z({color:s.iconColor})},"\u6D88\u606F",4)])]),_:1},8,["value","hidden"])]),default:n(()=>[t(mo,{ref_key:"noticeListRef",ref:E},null,512)]),_:1},512),t(R,{visible:l(u).isShow,teleported:!1,width:720,trigger:"click","popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px;padding: 14px 0px 14px 14px;"},{reference:n(()=>[t(U,{"is-dot":"",hidden:L.value==0},{default:n(()=>[e("div",{class:"icon-item",onMouseover:i[5]||(i[5]=I=>l(u).isShow=!0)},[t(d,{name:"message",class:"icon",color:s.iconColor},null,8,["color"]),e("p",{class:"item-text",style:z({color:s.iconColor})},"\u79C1\u4FE1",4)],32)]),_:1},8,["hidden"])]),default:n(()=>[l(u).isShow?(f(),Q(jt,{key:0})):M("",!0)]),_:1},8,["visible"]),e("div",{class:"icon-item",onClick:i[6]||(i[6]=I=>D("Record")),style:{cursor:"pointer"}},[t(d,{name:"history",class:"icon",color:s.iconColor},null,8,["color"]),e("p",{class:"item-text",style:z({color:s.iconColor})},"\u89C2\u770B\u5386\u53F2",4)]),e("div",{class:"icon-item",onClick:i[7]||(i[7]=I=>D("Contribute")),style:{cursor:"pointer"}},[t(d,{name:"inspiration",class:"icon",color:s.iconColor},null,8,["color"]),e("p",{class:"item-text",style:z({color:s.iconColor})}," \u521B\u4F5C",4)]),e("div",wo,[t(R,{trigger:"click",width:300,content:"\u53CD\u9988\u60A8\u9047\u5230\u7684\u95EE\u9898"},{reference:n(()=>[t(U,null,{default:n(()=>[e("div",bo,[t(d,{name:"bug",class:"icon",color:s.iconColor,title:"\u53CD\u9988"},null,8,["color"]),e("p",{class:"item-text",style:z({color:s.iconColor})},"\u53CD\u9988",4)])]),_:1})]),default:n(()=>[t(ae)]),_:1})])]),t(H,{type:"primary",round:"",onClick:i[8]||(i[8]=I=>v())},{default:n(()=>[$("\u5F00\u59CB\u76F4\u64AD")]),_:1}),t(Ee,{modelValue:_.value,"onUpdate:modelValue":i[10]||(i[10]=I=>_.value=I),"lock-scroll":!1,class:"dialog",center:"",title:"Begin to live"},{default:n(()=>[t(w,{active:l(c)},{default:n(()=>[t(W,{title:"\u51C6\u5907\u5DE5\u4F5C",description:"Download tool"}),t(W,{title:"\u8BBE\u7F6E\u53C2\u6570",description:"Set the parameters"}),t(W,{title:"\u5F00\u59CB\u76F4\u64AD",description:"Start to live"})]),_:1},8,["active"]),t(ke,{class:"steps"},{default:n(()=>[t(J,{span:18},{default:n(()=>[e("div",ko,[T(e("p",null,"\u4E0B\u8F7D OBS Studio \u76F4\u64AD\u5DE5\u5177, \u5B89\u88C5\u5230\u6211\u7684\u7535\u8111\u6253\u5F00",512),[[N,l(c)==1]]),T(e("div",null,[Eo,Bo,e("h4",null,"\u670D\u52A1\u5668 : "+A(l(r).userInfoData.liveData.address),1),e("h4",null,[$(" \u63A8\u6D41\u7801 : "+A(l(at)(l(r).userInfoData.liveData.key))+" ",1),t(H,{onClick:i[9]||(i[9]=I=>S(l(r).userInfoData.liveData.key)),class:"copy",color:"#626aef",size:"small",plain:"",round:""},{default:n(()=>[$(" copy ")]),_:1})])],512),[[N,l(c)==2]]),T(e("p",null,'\u914D\u7F6E\u5B8C\u6210\uFF01\u70B9\u51FB"\u5F00\u59CB\u76F4\u64AD"',512),[[N,l(c)==3]])])]),_:1}),t(J,{span:6},{default:n(()=>[e("div",Fo,[t(H,{type:"primary",onClick:k},{default:n(()=>[T(e("span",null,"\u4E0B\u4E00\u6B65",512),[[N,l(c)<3]]),T(e("span",null,"\u5B8C\u6210",512),[[N,l(c)==3]]),t(be,{class:"el-icon--right"},{default:n(()=>[t(l(Oe))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),So=P($o,[["__scopeId","data-v-9bd97ee2"]]),_e=s=>(O("data-v-0a2fe9a0"),s=s(),K(),s),Lo=_e(()=>e("div",{class:"grid-content ep-bg-purple"},null,-1)),Ao=_e(()=>e("div",{class:"grid-content ep-bg-purple-light"},null,-1)),Io={class:"menu-choose"},To={class:"search"},Mo=_e(()=>e("div",{class:"grid-content ep-bg-purple"},null,-1)),Vo=q({__name:"topNavigation",props:{scroll:{type:Boolean,required:!1,default:!1},color:{type:String,required:!1,default:"#18191C"},displaySearch:{type:Boolean,required:!1,default:!0},boxShadow:{type:Boolean,required:!1,default:!1}},setup(s){const u=s,r=je(),p=ee(),_=y(""),c=y(!0),k=y(),D=screen.width+"px",m=(B,S)=>{p.push(B)},h=()=>{if(!_.value)return!1;p.push({name:"VideoSearch",params:{text:_.value}})},v=()=>{if(!_.value)return!1;p.push({name:"VideoSearch",params:{text:_.value}})};return te(()=>{u.scroll&&Y(()=>r.globalData,async()=>{r.globalData.scroll.scrollTop>58?c.value=!1:c.value=!0},{immediate:!0,deep:!0})}),(B,S)=>{const E=xe,F=Ye,V=Qe,L=pe,x=ie,a=Ce;return f(),Q(a,{ref_key:"elRowRef",ref:k,class:Ge({row:!0,bgColorBlack:c.value&&s.scroll,bgColorWhite:!c.value,boxShadow:s.boxShadow}),style:z({maxWidth:D})},{default:n(()=>[t(E,{span:1},{default:n(()=>[Lo]),_:1}),t(E,{span:6},{default:n(()=>[Ao,e("div",Io,[t(V,{"default-active":l(r).globalData.router.currentRouter,class:"el-menu",mode:"horizontal",onSelect:m},{default:n(()=>[t(F,{style:z({color:c.value?s.color:"#18191C"}),index:"/"},{default:n(()=>[$(" \u9996\u9875 ")]),_:1},8,["style"]),t(F,{style:z({color:c.value?s.color:"#18191C"}),index:"/column"},{default:n(()=>[$(" \u4E13\u680F ")]),_:1},8,["style"]),t(F,{style:z({color:c.value?s.color:"#18191C"}),index:"/live"},{default:n(()=>[$(" \u76F4\u64AD ")]),_:1},8,["style"])]),_:1},8,["default-active"])])]),_:1}),t(E,{span:11},{default:n(()=>[T(e("div",To,[t(x,{modelValue:_.value,"onUpdate:modelValue":S[0]||(S[0]=o=>_.value=o),placeholder:"\u627E\u4F60\u60F3\u770B...",size:"large",onKeyup:G(v,["enter","native"])},{suffix:n(()=>[t(L,{onClick:h},{default:n(()=>[t(l(Je))]),_:1})]),_:1},8,["modelValue","onKeyup"])],512),[[N,s.displaySearch]])]),_:1}),t(E,{span:6},{default:n(()=>[t(So,{"icon-color":c.value?s.color:"#18191C"},null,8,["icon-color"])]),_:1}),t(E,{span:1},{default:n(()=>[Mo]),_:1})]),_:1},8,["class","style"])}}}),ls=P(Vo,[["__scopeId","data-v-0a2fe9a0"]]);export{ns as g,ls as t};
