import{d as x,b7 as A,a as c,f as v,w as m,g as t,b as C,t as B,u as d,G as y,i as E,b8 as S,aG as $,B as h,Y as D,k as b,U as I,_ as N,J as q,b9 as z,C as V,D as L,l as w,r as F,s as G,M as R,a2 as U,c as k,F as j,e as J,v as M,aU as P}from"./index.0228ac47.js";/* empty css                 */import{s as T}from"./commonality.2a0df1e0.js";/* empty css                  *//* empty css                  */import{u as Y,a as H}from"./usePersonalLetter.c7e483ac.js";import{y as K}from"./vue-ellipsis-3.es.74e51318.js";import"./index.f22c08f3.js";import"./personal.ec4b42a6.js";const O=e=>(V("data-v-f71f9ffd"),e=e(),L(),e),Q={class:"user-card"},W={class:"card-left"},X={class:"card-right"},Z={class:"username"},ee={class:"signature"},te=O(()=>t("span",null,"...",-1)),ae={class:"btn-list"},se=x({__name:"card",props:{id:{type:Number,required:!0},avatar:{type:String,required:!0},username:{type:String,required:!0},signature:{type:String,required:!0},is_attention:{type:Boolean,required:!0}},emits:["attention"],setup(e,{emit:p}){const l=b(),_=i=>{l.push({name:"SpaceIndividual",params:{id:i}})},n=async i=>{await H(i)&&p("attention",i)};return(i,a)=>{const r=I,s=N,o=q,u=A,f=z("removeFocus");return c(),v(u,{shadow:"never"},{default:m(()=>[t("div",Q,[t("div",W,[t("div",{class:"avatar",onClick:a[0]||(a[0]=g=>_(e.id))},[C(r,{size:104,src:e.avatar},null,8,["src"])])]),t("div",X,[t("div",Z,[t("span",null,B(e.username),1),t("div",{class:"private-letter",onClick:a[1]||(a[1]=g=>d(Y)(e.id))},[C(s,{name:"message",class:"icon",color:"#9499A0"}),y(" \u79C1\u4FE1 ")])]),t("div",ee,[C(d(K),{text:e.signature?e.signature:"\u8FD9\u4E2A\u4EBA\u5F88\u52E4\u5FEB\u4EC0\u4E48\u90FD\u6CA1\u7559\u4E0B~"},{ellipsisNode:m(()=>[te]),_:1},8,["text"])]),t("div",ae,[E((c(),v(o,{type:"primary",size:"small",round:"",icon:d(S),onClick:a[2]||(a[2]=g=>_(e.id))},{default:m(()=>[y("\u4E3B\u9875")]),_:1},8,["icon"])),[[f]]),e.is_attention?h("",!0):E((c(),v(o,{key:0,class:"attention",type:"primary",size:"small",round:"",icon:d($),onClick:a[3]||(a[3]=g=>n(e.id))},{default:m(()=>[y("\u5173\u6CE8")]),_:1},8,["icon"])),[[f]]),e.is_attention?E((c(),v(o,{key:1,class:"attention",type:"primary",size:"small",round:"",icon:d(D),color:"#F1F2F3",onClick:a[4]||(a[4]=g=>n(e.id))},{default:m(()=>[y("\u5DF2\u5173\u6CE8")]),_:1},8,["icon"])),[[f]]):h("",!0)])])])]),_:1})}}});const ne=w(se,[["__scopeId","data-v-f71f9ffd"]]),oe={class:"main"},ie={class:"middle"},re={class:"video-card"},ue={class:"empty"},de=x({__name:"user",setup(e){const p=F(!1),l=P(),_=G({page_info:{page:1,size:3,keyword:l.params.text},type:"user"});let n=F([]);const i=async(r,s)=>{const o=await T(s);!o.data||(o.data,r.value=[...r.value,...o.data],s.page_info.page=s.page_info.page+1,p.value=!0)},a=r=>{n.value=n.value.filter(s=>(s.id==r&&(s.is_attention=!s.is_attention),s))};return R(()=>l.path,async()=>{_.page_info.page=1,_.page_info.keyword=l.params.text,n.value=[],p.value=!1,i(n,_),console.log(l)},{immediate:!0,deep:!0}),(r,s)=>{const o=U;return c(),k("div",oe,[t("div",ie,[t("div",re,[(c(!0),k(j,null,J(d(n),(u,f)=>(c(),v(ne,{id:u.id,avatar:u.photo,username:u.username,signature:u.signature,is_attention:u.is_attention,onAttention:a},null,8,["id","avatar","username","signature","is_attention"]))),256))])]),E(t("div",ue,[C(o,{description:"\u8FD9\u91CC\u7A7A\u7A7A\u5982\u4E5F"})],512),[[M,p.value&&!d(n).length]])])}}});const Ce=w(de,[["__scopeId","data-v-78790ff7"]]);export{Ce as default};
