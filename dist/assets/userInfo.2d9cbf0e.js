import{c,s as g,e as d,f as h}from"./personal.ec4b42a6.js";import{v as m}from"./validate.c9820062.js";import{s as i,S as s,H as o}from"./index.0228ac47.js";const y=()=>({form:i({username:"",gender:0,birth_date:"",is_visible:!0,signature:"",email:"",user_integral:0,social_media:""})}),U=t=>{const l=()=>{r()},u=async()=>{var e,n;try{let a=await c();a.data=a.data,t.username=a.data.username,t.gender=a.data.gender,t.birth_date=a.data.birth_date,t.is_visible=a.data.is_visible,t.signature=a.data.signature,t.email=(e=a.data)==null?void 0:e.email,t.social_media=(n=a.data)==null?void 0:n.social_media}catch(a){console.log(a)}},r=async()=>{try{let e=await g(t);s.fire({title:"\u4FEE\u6539\u6210\u529F",heightAuto:!1,icon:"success",confirmButtonColor:o.colorButtonTheme})}catch(e){s.fire({title:e.message,heightAuto:!1,icon:"warning",confirmButtonColor:o.colorButtonTheme}),console.log(e)}};return{getUserInfo:u,setUserInfo:r,onSubmit:l,userCheckIn:async()=>{try{let e=await d();e.code==200?s.fire({title:e.data,heightAuto:!1,confirmButtonColor:o.colorButtonTheme}):s.fire({title:e.data,heightAuto:!1,confirmButtonColor:o.colorButtonTheme})}catch(e){console.log(e)}},getUserIntegral:async()=>{try{let e=await h();console.log("\u83B7\u53D6\u7528\u6237\u79EF\u5206\u7ED3\u679C\u4E3A:"+e.data),t.user_integral=e.data}catch(e){console.log(e)}}}},v=()=>({userInfoRules:i({username:[{validator:m,trigger:"change"}]})});export{U as a,v as b,y as u};
