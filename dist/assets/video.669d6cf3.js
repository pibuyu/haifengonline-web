import{d as C,r as d,a as v,c as g,i as N,v as q,g as e,n as F,b as o,t as p,u as c,m as A,G as B,p as V,q as k,k as L,_ as P,l as E,s as M,x as R,M as T,y as j,z as G,a2 as U,b6 as H,F as w,e as J,B as K,aU as O,w as S}from"./index.0228ac47.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                 *//* empty css                         */import{s as Q}from"./commonality.2a0df1e0.js";import{y as W}from"./vue-ellipsis-3.es.74e51318.js";import"./index.f22c08f3.js";const X={class:"head"},Y={class:"classification"},Z={class:"classification-left"},I={class:"play-volume"},ee={class:"barrage-number"},te={class:"classification-right"},ae={class:"info"},se={class:"video-title"},ie={class:"video-information"},oe={class:"video-information-username"},ne={class:"video-information-time"},re=C({__name:"card",props:{id:{type:Number,required:!0},video_duration:{type:Number,required:!0},title:{type:String,required:!0},cover:{type:String,required:!0},heat:{type:Number,required:!0},barrageNumber:{type:Number,required:!0},username:{type:String,required:!0},created_at:{type:String,required:!0}},setup(x){const s=x,u=L(),m=d(!1),h=()=>{u.push({name:"VideoShow",params:{id:s.id}})};return(y,n)=>{const t=P;return v(),g("div",{class:k({item:!0}),onClick:n[0]||(n[0]=_=>h())},[N(e("div",{class:k({normal:!0,mouseleave:!m.value})},[e("div",X,[e("div",{class:"item-image",style:F({backgroundImage:`url(${s.cover})`})},null,4),e("div",Y,[e("div",Z,[e("span",I,[o(t,{name:"video",class:"icon",color:"#fff"}),e("span",null,p(s.heat),1)]),e("span",ee,[o(t,{name:"barrageNumber",class:"icon",color:"#fff"}),e("span",null,p(s.barrageNumber),1)])]),e("div",te,[e("span",null,p(c(A)(s.video_duration)),1)])])]),e("div",ae,[e("div",se,[o(c(W),{text:s.title,visibleLine:2},null,8,["text"])]),e("div",ie,[o(t,{name:"up",class:"icon",color:"#999"}),e("span",oe,p(s.username),1),B(),e("span",ne,"\xB7 "+p(c(V)(s.created_at)),1)])])],2),[[q,!m.value]])])}}});const le=E(re,[["__scopeId","data-v-6eade8b7"]]),ce={class:"main"},ue={class:"middle"},de={style:{"text-align":"start","margin-top":"0.6rem"}},_e={class:"empty"},pe={class:"pagination"},me=C({__name:"video",setup(x){const s=d(!1),u=O(),m=d(1),h=d(10),y=d(),n=M({page_info:{page:m.value,size:h.value,keyword:u.params.text},type:"video"});let t=d([]);const _=R(()=>{let a=[];return n.page_info.page==2?t.value.length%11==0?(a=[...a,...t.value,...f(15)],b(t,n)):a=[...t.value]:n.page_info.page>2?t.value.length-11%n.page_info.size==0?a=[...a,...t.value,...f(15)]:a=[...t.value]:a=[...t.value],a}),f=a=>{let l=[];for(let i=0;i<a;i++)l.push({});return l},b=async(a,l)=>{l.page_info.page;const i=await Q(l);console.log("\u641C\u7D22\u9875\u9762\u7684\u8FD4\u56DE\u7ED3\u679C",i),i.data&&(y.value=i.data.length,a.value=[...a.value,...i.data],l.page_info.page=l.page_info.page+1,s.value=!0)};return T(()=>u.path,async()=>{n.page_info.page=1,n.page_info.keyword=u.params.text,t.value=[],s.value=!1,b(t,n),console.log(u)},{immediate:!0,deep:!0}),(a,l)=>{const i=j,z=G,D=U,$=H;return v(),g(w,null,[e("div",ce,[e("div",ue,[s.value&&c(_).length?(v(!0),g(w,{key:0},J(c(_).length?c(_):f(11),(r,ve)=>(v(),g("div",{class:"video-card",key:r.id},[o(z,{style:{width:"100%",height:"9.4rem"},class:"video-card",loading:!r.id,animated:""},{template:S(()=>[o(i,{variant:"text",style:{width:"100%",height:"100%"}}),e("div",de,[o(i,{variant:"h3",style:{width:"100%"}}),e("div",null,[o(i,{variant:"h3",style:{width:"80%"}}),o(i,{variant:"h3",style:{width:"60%"}})])])]),default:S(()=>[o(le,{id:r.id,title:r.title,username:r.username,video_duration:r.video_duration,"barrage-number":r.barrageNumber,heat:r.heat,cover:r.cover,created_at:r.created_at},null,8,["id","title","username","video_duration","barrage-number","heat","cover","created_at"])]),_:2},1032,["loading"])]))),128)):K("",!0)]),e("div",null,[N(e("div",_e,[o(D,{description:"\u8FD9\u91CC\u7A7A\u7A7A\u5982\u4E5F"})],512),[[q,s.value&&!c(_).length]])])]),e("div",pe,[o($,{background:!0,"page-sizes":[1,10,15,20,30],layout:"prev, pager, next,->,sizes,total",total:y.value,onChange:b},null,8,["total"])])],64)}}});const Ne=E(me,[["__scopeId","data-v-52b0e605"]]);export{Ne as default};
